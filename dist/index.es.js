function t({delay:t=600,immediate:e=!1}={}){const r=t,i=e,n=Symbol("defaultID"),a={};return function(t,{params:e,delay:s,immediate:o,id:l=n}={}){if("function"!=typeof t)return console.error("[debounce warn]: TypeError: The First parameter is not a function");const c=o??i;c&&!a[l]&&t.apply(this,e),clearTimeout(a[l]),a[l]=setTimeout((()=>{c||t.apply(this,e),c&&(a[l]=void 0)}),s??r)}}function e({delay:t=500,immediate:e=!0}={}){const r=t,i=e,n=Symbol("defaultID"),a={[n]:!1};return function(t,{params:e,delay:s,immediate:o,id:l=n}={}){if("function"!=typeof t)return console.error("[throttle warn]: TypeError: The First parameter is not a function");if(a[l])return;const c=o??i;a[l]=!0,c&&t.apply(this,e),setTimeout((()=>{!c&&t.apply(this,e),a[l]=!1}),s??r)}}JSON.copy=t=>JSON.parse(JSON.stringify(t)),Math.rad=t=>t*Math.PI/180;const r=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),i=t=>"object"===r(t),n=t=>"string"!=typeof t?"":t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),a=t=>t.split("-").map((t=>n(t))).join(""),s=(t,e,r=t.indexOf(e))=>!!~r&&t.splice(r,1),o=t=>(isNaN(t)||((t=+t)>1e3?t=Math.round(t/100)/10+"km":((t<0||isNaN(t))&&(t=0),t=Math.round(t)+"m")),t),l=(t,e="rpx")=>isNaN(t)?t:t+e,c=t(),h=e();class u{static EARTH_RADIUS=6378137;constructor(){}static getDistance(t,e){(isNaN(t.longitude)||isNaN(t.latitude)||isNaN(e.longitude)||isNaN(e.latitude))&&console.error("getDistance方法参数错误,请传坐标对象");const r=Math.rad(t.latitude),i=Math.rad(e.latitude),n=r-i,a=Math.rad(t.longitude)-Math.rad(e.longitude);let s=2*Math.asin(Math.sqrt(Math.pow(Math.sin(n/2),2)+Math.cos(r)*Math.cos(i)*Math.pow(Math.sin(a/2),2)));return s*=this.EARTH_RADIUS,s=Math.round(1e4*s)/1e4,s}static async from(t){const[e,{longitude:r,latitude:i}]=await uni.getLocation();return e&&uni.showToast({title:"获取位置失败",icon:"none"}),this.getDistance({longitude:r,latitude:i},t)}}const d=t=>{if(i(t))return JSON.copy(t);if(null==t)return{};";"==t.charAt(t.length-1)&&(t=t.slice(0,-1));const e=t.split(";"),r={};return e.forEach((t=>{const[e,i]=t.split(":");r[e]=i})),JSON.copy(r)};class p{constructor(){}static parse(t,{omit:e=!0}={}){const r=t.indexOf("?");~r&&(t=t.slice(r+1));const i={};return t.includes("://")||t.split("&").forEach((t=>{const[r,n]=t.split("=");e&&void 0===n||(i[r]=n)})),i}static stringify(t,{prefix:e="?",encode:r=!0}={}){if("string"==typeof t&&t)return e?e+t:t;if(!i(t))return"";let n="";return Object.entries(t).forEach((([t,e])=>{void 0!==e&&(e=r?this.encodeParam(e):e,n+=`&${t}=${e}`)})),n=n.slice(1),e&&(n=e+n),n}static encodeParam(t){return(i(t)||Array.isArray(t))&&(t=JSON.stringify(t)),encodeURIComponent(t)}static getSpecifiedParams(t,...e){const r=Object.prototype.hasOwnProperty;let i=this.parse(t),n="";return e.forEach((t=>{r.call(i,t)&&(n+=`&${t}=${i[t]}`)})),n.slice(1)}}const f=(t=30)=>new Promise((e=>setTimeout((()=>e()),t))),m=(t,e)=>{const r=[],i=t.length;let n=0;for(;n<i;)r.push(t.slice(n,n+=e));return r};class g{index;constructor(t){if(Array.isArray(t))t.forEach(((t,e)=>{if(i(t))return g.setObjEnum(t,this);this[this[t]=g.getIndex(this)||e]=t}));else{if(!i(t))throw new TypeError("Enum parameter must be Object or Array");g.setObjEnum(v,this)}}static setObjEnum(t,e){Object.entries(t).forEach((([t,r])=>{e[e[t]=r]=t,e.index=r}))}static getIndex(t){if(null==t.index)return!1;if("number"!=typeof t.index)throw new Error("Enum member must have initializer.");return++t.index}}const y=(t,e)=>{let r={};return e.forEach((e=>r[e]=t[e])),r},M=(t,e,{targetKey:r="value",childKey:i="children",handler:n}={})=>{let a=[],s=0;return a.unshift(function t(e,o){return e.findIndex((e=>{let l=e[r]==o[s];return l&&("function"==typeof n&&n(e),o[++s]&&a.unshift(t(e[i],o))),l}))}(t,e)),a},O=t=>t.replace(/<[^>]*>/g,""),E=(...t)=>Object.assign({},...t.map((t=>d(t))));class x{constructor(){this.value=[]}has(t){return!!~this.value.indexOf(t)}add(t){let e=this.value.indexOf(t);return~e||this.value.push(t),e}delete(t,e=this.value.indexOf(t)){return!!~e&&this.value.splice(e,1)}checked(t){this.size>1&&this.delete(t,this.add(t))}checkedToggle(t){this.delete(t,this.add(t))}radio(t){this.value.splice(0,this.value.length,t)}radioToggle(t){this.value.includes(t)?this.value.splice(0,this.value.length):this.value.splice(0,this.value.length,t)}clear(){this.value.splice(0,this.value.length)}get size(){return this.value.length}}const N=t=>t[Math.floor(Math.random()*t.length)],b=(t,e)=>Math.floor(Math.random()*(e-t+1)+t),w=t=>{let e=["零","一","二","三","四","五","六","七","八","九"],r=["","十","百","千","万"];t=parseInt(t);let i=t=>{let i=t.toString().split("").reverse(),n="",a=[];i.forEach(((t,i)=>{a.unshift("0"===t?e[t]:e[t]+r[i])}));let s=[];return a.forEach(((t,e)=>{"零"!==t&&s.push(e)})),a.length>1?a.forEach(((t,e)=>{"零"===a[a.length-1]?e<=s[s.length-1]&&(n+=t):n+=t})):n=a[0],n},n=Math.floor(t/1e4),a=t%1e4;return a.toString().length<4&&(a="0"+a),n?i(n)+"万"+i(a):i(t)},S=(t,e=2)=>{let r=Math.pow(10,e);return(Math.round(t*r)/r).toFixed(e)},T=()=>{let t=window.localStorage,{size:e}=new Blob(Object.keys(t).map((e=>t.getItem(e))));return e<1024?e+="B":e=e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB",e},j=()=>`#${Math.random().toString(16).slice(2,6)}`,A=()=>"("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")",I=(t,e,r)=>"#"+((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1);export{u as Distance,g as Enum,x as MySet,p as Urlquery,l as addUnit,m as arrayToMatrix,n as capitalize,w as chinesNum,y as createWith,r as datatype,c as debounce,o as distanceUnit,M as findIndexArr,T as getLocalStorageSize,b as getRandomInt,N as getRandomItem,O as html2txt,t as initDebounce,e as initThrottle,i as isObj,a as kebabcase2CamelCase,E as mergeStyle,j as randomColor,s as removeItem,A as rgb,I as rgbToHex,S as roundNum,f as sleep,d as style2obj,h as throttle};
